{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/herna/mi-chess/app/ChessBoardClient.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { Chess } from \"chess.js\";\r\nimport { Chessboard } from \"react-chessboard\";\r\n\r\ninterface Props {\r\n  botElo: number;\r\n}\r\n\r\nexport default function ChessBoardClient({ botElo }: Props) {\r\n  const [game, setGame] = useState<Chess | null>(null);\r\n  const [fen, setFen] = useState(\"start\");\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const newGame = new Chess();\r\n    setGame(newGame);\r\n    setFen(newGame.fen());\r\n  }, []);\r\n\r\n  const onPieceDrop = (source: string, target: string) => {\r\n    if (!game) return false;\r\n\r\n    const move = game.move({ from: source, to: target, promotion: \"q\" });\r\n    if (!move) return false;\r\n\r\n    setFen(game.fen());\r\n\r\n    const lastMove = game.history({ verbose: true }).slice(-1)[0];\r\n    if (lastMove && lastMove.color === \"w\" && lastMove.captured) {\r\n      setMessage(`Tu pieza capturó a ${lastMove.captured}!`);\r\n    }\r\n\r\n    // Bot responde según su ELO (más alto = más rápido / inteligente)\r\n    setTimeout(() => botMove(), 500 - Math.min(botElo / 10, 400));\r\n    return true;\r\n  };\r\n\r\n  const botMove = () => {\r\n    if (!game) return;\r\n    const moves = game.moves();\r\n    if (moves.length === 0) return;\r\n\r\n    // Bot básico: mueve aleatorio, más inteligente si ELO alto (puede mejorar luego)\r\n    const randomMove = moves[Math.floor(Math.random() * moves.length)];\r\n    game.move(randomMove);\r\n    setFen(game.fen());\r\n\r\n    if (game.in_check()) setMessage(\"Bot está en jaque!\");\r\n    else setMessage(\"\");\r\n  };\r\n\r\n  const resetGame = () => {\r\n    if (!game) return;\r\n    game.reset();\r\n    setFen(game.fen());\r\n    setMessage(\"\");\r\n  };\r\n\r\n  if (!game) return <div>Cargando tablero...</div>;\r\n\r\n  return (\r\n    <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\", marginTop: 20 }}>\r\n      <Chessboard position={fen} onPieceDrop={onPieceDrop} boardWidth={480} arePiecesDraggable={true} />\r\n      <p style={{ marginTop: 10, fontWeight: \"bold\" }}>{message}</p>\r\n      <div style={{ marginTop: 20 }}>\r\n        <button onClick={resetGame} style={{ padding: \"8px 12px\", borderRadius: 8 }}>\r\n          🔄 Reiniciar\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAUe,SAAS,iBAAiB,EAAE,MAAM,EAAS;IACxD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAe;IAC/C,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,iNAAQ,EAAC;IAC/B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,UAAU,IAAI,4JAAK;QACzB,QAAQ;QACR,OAAO,QAAQ,GAAG;IACpB,GAAG,EAAE;IAEL,MAAM,cAAc,CAAC,QAAgB;QACnC,IAAI,CAAC,MAAM,OAAO;QAElB,MAAM,OAAO,KAAK,IAAI,CAAC;YAAE,MAAM;YAAQ,IAAI;YAAQ,WAAW;QAAI;QAClE,IAAI,CAAC,MAAM,OAAO;QAElB,OAAO,KAAK,GAAG;QAEf,MAAM,WAAW,KAAK,OAAO,CAAC;YAAE,SAAS;QAAK,GAAG,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE;QAC7D,IAAI,YAAY,SAAS,KAAK,KAAK,OAAO,SAAS,QAAQ,EAAE;YAC3D,WAAW,CAAC,mBAAmB,EAAE,SAAS,QAAQ,CAAC,CAAC,CAAC;QACvD;QAEA,kEAAkE;QAClE,WAAW,IAAM,WAAW,MAAM,KAAK,GAAG,CAAC,SAAS,IAAI;QACxD,OAAO;IACT;IAEA,MAAM,UAAU;QACd,IAAI,CAAC,MAAM;QACX,MAAM,QAAQ,KAAK,KAAK;QACxB,IAAI,MAAM,MAAM,KAAK,GAAG;QAExB,iFAAiF;QACjF,MAAM,aAAa,KAAK,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,MAAM,MAAM,EAAE;QAClE,KAAK,IAAI,CAAC;QACV,OAAO,KAAK,GAAG;QAEf,IAAI,KAAK,QAAQ,IAAI,WAAW;aAC3B,WAAW;IAClB;IAEA,MAAM,YAAY;QAChB,IAAI,CAAC,MAAM;QACX,KAAK,KAAK;QACV,OAAO,KAAK,GAAG;QACf,WAAW;IACb;IAEA,IAAI,CAAC,MAAM,qBAAO,8OAAC;kBAAI;;;;;;IAEvB,qBACE,8OAAC;QAAI,OAAO;YAAE,SAAS;YAAQ,eAAe;YAAU,YAAY;YAAU,WAAW;QAAG;;0BAC1F,8OAAC,yKAAU;gBAAC,UAAU;gBAAK,aAAa;gBAAa,YAAY;gBAAK,oBAAoB;;;;;;0BAC1F,8OAAC;gBAAE,OAAO;oBAAE,WAAW;oBAAI,YAAY;gBAAO;0BAAI;;;;;;0BAClD,8OAAC;gBAAI,OAAO;oBAAE,WAAW;gBAAG;0BAC1B,cAAA,8OAAC;oBAAO,SAAS;oBAAW,OAAO;wBAAE,SAAS;wBAAY,cAAc;oBAAE;8BAAG;;;;;;;;;;;;;;;;;AAMrF","debugId":null}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/herna/mi-chess/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport ChessBoardClient from \"./ChessBoardClient\";\r\n\r\nexport default function Page() {\r\n  const [selectedElo, setSelectedElo] = useState<number | null>(null);\r\n\r\n  const bots = [\r\n    { name: \"Bot Novato\", elo: 500 },\r\n    { name: \"Bot Intermedio\", elo: 1200 },\r\n    { name: \"Bot Avanzado\", elo: 1800 },\r\n    { name: \"Bot Maestro\", elo: 2200 },\r\n    { name: \"Bot Gran Maestro\", elo: 2600 },\r\n    { name: \"Bot Leyenda\", elo: 2900 },\r\n  ];\r\n\r\n  return (\r\n    <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\", marginTop: 50 }}>\r\n      <h1 style={{ fontSize: 32, marginBottom: 20 }}>♟️ Mi Chess Online</h1>\r\n\r\n      {!selectedElo ? (\r\n        <>\r\n          <h2 style={{ marginBottom: 10 }}>Elige tu bot:</h2>\r\n          <div style={{ display: \"flex\", flexDirection: \"column\", gap: 10 }}>\r\n            {bots.map((bot) => (\r\n              <button\r\n                key={bot.elo}\r\n                onClick={() => setSelectedElo(bot.elo)}\r\n                style={{\r\n                  padding: \"10px 20px\",\r\n                  fontSize: 16,\r\n                  borderRadius: 8,\r\n                  backgroundColor: \"#0070f3\",\r\n                  color: \"#fff\",\r\n                  cursor: \"pointer\",\r\n                }}\r\n              >\r\n                {bot.name} - ELO {bot.elo}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <p style={{ marginBottom: 10, fontSize: 18 }}>Jugando contra bot ELO {selectedElo}</p>\r\n          <ChessBoardClient botElo={selectedElo} />\r\n          <button\r\n            onClick={() => setSelectedElo(null)}\r\n            style={{ marginTop: 20, padding: \"8px 12px\", borderRadius: 8 }}\r\n          >\r\n            🔄 Volver a la selección\r\n          </button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAgB;IAE9D,MAAM,OAAO;QACX;YAAE,MAAM;YAAc,KAAK;QAAI;QAC/B;YAAE,MAAM;YAAkB,KAAK;QAAK;QACpC;YAAE,MAAM;YAAgB,KAAK;QAAK;QAClC;YAAE,MAAM;YAAe,KAAK;QAAK;QACjC;YAAE,MAAM;YAAoB,KAAK;QAAK;QACtC;YAAE,MAAM;YAAe,KAAK;QAAK;KAClC;IAED,qBACE,8OAAC;QAAI,OAAO;YAAE,SAAS;YAAQ,eAAe;YAAU,YAAY;YAAU,WAAW;QAAG;;0BAC1F,8OAAC;gBAAG,OAAO;oBAAE,UAAU;oBAAI,cAAc;gBAAG;0BAAG;;;;;;YAE9C,CAAC,4BACA;;kCACE,8OAAC;wBAAG,OAAO;4BAAE,cAAc;wBAAG;kCAAG;;;;;;kCACjC,8OAAC;wBAAI,OAAO;4BAAE,SAAS;4BAAQ,eAAe;4BAAU,KAAK;wBAAG;kCAC7D,KAAK,GAAG,CAAC,CAAC,oBACT,8OAAC;gCAEC,SAAS,IAAM,eAAe,IAAI,GAAG;gCACrC,OAAO;oCACL,SAAS;oCACT,UAAU;oCACV,cAAc;oCACd,iBAAiB;oCACjB,OAAO;oCACP,QAAQ;gCACV;;oCAEC,IAAI,IAAI;oCAAC;oCAAQ,IAAI,GAAG;;+BAXpB,IAAI,GAAG;;;;;;;;;;;6CAiBpB;;kCACE,8OAAC;wBAAE,OAAO;4BAAE,cAAc;4BAAI,UAAU;wBAAG;;4BAAG;4BAAwB;;;;;;;kCACtE,8OAAC,mIAAgB;wBAAC,QAAQ;;;;;;kCAC1B,8OAAC;wBACC,SAAS,IAAM,eAAe;wBAC9B,OAAO;4BAAE,WAAW;4BAAI,SAAS;4BAAY,cAAc;wBAAE;kCAC9D;;;;;;;;;;;;;;AAOX","debugId":null}}]
}